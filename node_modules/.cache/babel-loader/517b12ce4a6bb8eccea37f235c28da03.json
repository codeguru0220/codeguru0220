{"ast":null,"code":"import { executeOnSingleOrMultiple } from \"../../Utils/Utils\";\n\nfunction getItemsFromInitializer(container, map, initializers) {\n  let force = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  let res = map.get(container);\n\n  if (!res || force) {\n    res = [...initializers.values()].map(t => t(container));\n    map.set(container, res);\n  }\n\n  return res;\n}\n\nexport class Plugins {\n  constructor(engine) {\n    this._engine = engine;\n    this.plugins = [];\n    this._initializers = {\n      interactors: new Map(),\n      movers: new Map(),\n      updaters: new Map()\n    };\n    this.interactors = new Map();\n    this.movers = new Map();\n    this.updaters = new Map();\n    this.presets = new Map();\n    this.drawers = new Map();\n    this.pathGenerators = new Map();\n  }\n\n  addInteractor(name, initInteractor) {\n    this._initializers.interactors.set(name, initInteractor);\n  }\n\n  addParticleMover(name, initMover) {\n    this._initializers.movers.set(name, initMover);\n  }\n\n  addParticleUpdater(name, initUpdater) {\n    this._initializers.updaters.set(name, initUpdater);\n  }\n\n  addPathGenerator(type, pathGenerator) {\n    !this.getPathGenerator(type) && this.pathGenerators.set(type, pathGenerator);\n  }\n\n  addPlugin(plugin) {\n    !this.getPlugin(plugin.id) && this.plugins.push(plugin);\n  }\n\n  addPreset(presetKey, options) {\n    let override = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    (override || !this.getPreset(presetKey)) && this.presets.set(presetKey, options);\n  }\n\n  addShapeDrawer(types, drawer) {\n    executeOnSingleOrMultiple(types, type => {\n      !this.getShapeDrawer(type) && this.drawers.set(type, drawer);\n    });\n  }\n\n  destroy(container) {\n    this.updaters.delete(container);\n    this.movers.delete(container);\n    this.interactors.delete(container);\n  }\n\n  getAvailablePlugins(container) {\n    const res = new Map();\n\n    for (const plugin of this.plugins) {\n      plugin.needsPlugin(container.actualOptions) && res.set(plugin.id, plugin.getPlugin(container));\n    }\n\n    return res;\n  }\n\n  getInteractors(container) {\n    let force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return getItemsFromInitializer(container, this.interactors, this._initializers.interactors, force);\n  }\n\n  getMovers(container) {\n    let force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return getItemsFromInitializer(container, this.movers, this._initializers.movers, force);\n  }\n\n  getPathGenerator(type) {\n    return this.pathGenerators.get(type);\n  }\n\n  getPlugin(plugin) {\n    return this.plugins.find(t => t.id === plugin);\n  }\n\n  getPreset(preset) {\n    return this.presets.get(preset);\n  }\n\n  getShapeDrawer(type) {\n    return this.drawers.get(type);\n  }\n\n  getSupportedShapes() {\n    return this.drawers.keys();\n  }\n\n  getUpdaters(container) {\n    let force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return getItemsFromInitializer(container, this.updaters, this._initializers.updaters, force);\n  }\n\n  loadOptions(options, sourceOptions) {\n    for (const plugin of this.plugins) {\n      plugin.loadOptions(options, sourceOptions);\n    }\n  }\n\n  loadParticlesOptions(container, options) {\n    const updaters = this.updaters.get(container);\n\n    if (!updaters) {\n      return;\n    }\n\n    for (var _len = arguments.length, sourceOptions = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      sourceOptions[_key - 2] = arguments[_key];\n    }\n\n    for (const updater of updaters) {\n      updater.loadOptions && updater.loadOptions(options, ...sourceOptions);\n    }\n  }\n\n}","map":{"version":3,"sources":["D:/mitsukimiyagi-portfolio/node_modules/tsparticles-engine/esm/Core/Utils/Plugins.js"],"names":["executeOnSingleOrMultiple","getItemsFromInitializer","container","map","initializers","force","res","get","values","t","set","Plugins","constructor","engine","_engine","plugins","_initializers","interactors","Map","movers","updaters","presets","drawers","pathGenerators","addInteractor","name","initInteractor","addParticleMover","initMover","addParticleUpdater","initUpdater","addPathGenerator","type","pathGenerator","getPathGenerator","addPlugin","plugin","getPlugin","id","push","addPreset","presetKey","options","override","getPreset","addShapeDrawer","types","drawer","getShapeDrawer","destroy","delete","getAvailablePlugins","needsPlugin","actualOptions","getInteractors","getMovers","find","preset","getSupportedShapes","keys","getUpdaters","loadOptions","sourceOptions","loadParticlesOptions","updater"],"mappings":"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","sourcesContent":["import { executeOnSingleOrMultiple } from \"../../Utils/Utils\";\nfunction getItemsFromInitializer(container, map, initializers, force = false) {\n    let res = map.get(container);\n    if (!res || force) {\n        res = [...initializers.values()].map((t) => t(container));\n        map.set(container, res);\n    }\n    return res;\n}\nexport class Plugins {\n    constructor(engine) {\n        this._engine = engine;\n        this.plugins = [];\n        this._initializers = {\n            interactors: new Map(),\n            movers: new Map(),\n            updaters: new Map(),\n        };\n        this.interactors = new Map();\n        this.movers = new Map();\n        this.updaters = new Map();\n        this.presets = new Map();\n        this.drawers = new Map();\n        this.pathGenerators = new Map();\n    }\n    addInteractor(name, initInteractor) {\n        this._initializers.interactors.set(name, initInteractor);\n    }\n    addParticleMover(name, initMover) {\n        this._initializers.movers.set(name, initMover);\n    }\n    addParticleUpdater(name, initUpdater) {\n        this._initializers.updaters.set(name, initUpdater);\n    }\n    addPathGenerator(type, pathGenerator) {\n        !this.getPathGenerator(type) && this.pathGenerators.set(type, pathGenerator);\n    }\n    addPlugin(plugin) {\n        !this.getPlugin(plugin.id) && this.plugins.push(plugin);\n    }\n    addPreset(presetKey, options, override = false) {\n        (override || !this.getPreset(presetKey)) && this.presets.set(presetKey, options);\n    }\n    addShapeDrawer(types, drawer) {\n        executeOnSingleOrMultiple(types, (type) => {\n            !this.getShapeDrawer(type) && this.drawers.set(type, drawer);\n        });\n    }\n    destroy(container) {\n        this.updaters.delete(container);\n        this.movers.delete(container);\n        this.interactors.delete(container);\n    }\n    getAvailablePlugins(container) {\n        const res = new Map();\n        for (const plugin of this.plugins) {\n            plugin.needsPlugin(container.actualOptions) && res.set(plugin.id, plugin.getPlugin(container));\n        }\n        return res;\n    }\n    getInteractors(container, force = false) {\n        return getItemsFromInitializer(container, this.interactors, this._initializers.interactors, force);\n    }\n    getMovers(container, force = false) {\n        return getItemsFromInitializer(container, this.movers, this._initializers.movers, force);\n    }\n    getPathGenerator(type) {\n        return this.pathGenerators.get(type);\n    }\n    getPlugin(plugin) {\n        return this.plugins.find((t) => t.id === plugin);\n    }\n    getPreset(preset) {\n        return this.presets.get(preset);\n    }\n    getShapeDrawer(type) {\n        return this.drawers.get(type);\n    }\n    getSupportedShapes() {\n        return this.drawers.keys();\n    }\n    getUpdaters(container, force = false) {\n        return getItemsFromInitializer(container, this.updaters, this._initializers.updaters, force);\n    }\n    loadOptions(options, sourceOptions) {\n        for (const plugin of this.plugins) {\n            plugin.loadOptions(options, sourceOptions);\n        }\n    }\n    loadParticlesOptions(container, options, ...sourceOptions) {\n        const updaters = this.updaters.get(container);\n        if (!updaters) {\n            return;\n        }\n        for (const updater of updaters) {\n            updater.loadOptions && updater.loadOptions(options, ...sourceOptions);\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}