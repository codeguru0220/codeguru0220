{"ast":null,"code":"import { getDistance, getRangeMax, getRangeValue } from \"tsparticles-engine\";\nimport { applyDistance, getProximitySpeedFactor, move, spin } from \"./Utils\";\nconst diffFactor = 2;\nexport class BaseMover {\n  constructor() {\n    this._initSpin = particle => {\n      const container = particle.container,\n            options = particle.options,\n            spinOptions = options.move.spin;\n\n      if (!spinOptions.enable) {\n        return;\n      }\n\n      const spinPos = spinOptions.position ?? {\n        x: 50,\n        y: 50\n      },\n            spinCenter = {\n        x: spinPos.x / 100 * container.canvas.size.width,\n        y: spinPos.y / 100 * container.canvas.size.height\n      },\n            pos = particle.getPosition(),\n            distance = getDistance(pos, spinCenter),\n            spinAcceleration = getRangeValue(spinOptions.acceleration);\n      particle.retina.spinAcceleration = spinAcceleration * container.retina.pixelRatio;\n      particle.spin = {\n        center: spinCenter,\n        direction: particle.velocity.x >= 0 ? \"clockwise\" : \"counter-clockwise\",\n        angle: particle.velocity.angle,\n        radius: distance,\n        acceleration: particle.retina.spinAcceleration\n      };\n    };\n  }\n\n  init(particle) {\n    const options = particle.options,\n          gravityOptions = options.move.gravity;\n    particle.gravity = {\n      enable: gravityOptions.enable,\n      acceleration: getRangeValue(gravityOptions.acceleration),\n      inverse: gravityOptions.inverse\n    };\n\n    this._initSpin(particle);\n  }\n\n  isEnabled(particle) {\n    return !particle.destroyed && particle.options.move.enable;\n  }\n\n  move(particle, delta) {\n    const particleOptions = particle.options,\n          moveOptions = particleOptions.move;\n\n    if (!moveOptions.enable) {\n      return;\n    }\n\n    const container = particle.container,\n          pxRatio = container.retina.pixelRatio,\n          slowFactor = getProximitySpeedFactor(particle),\n          baseSpeed = (particle.retina.moveSpeed ??= getRangeValue(moveOptions.speed) * pxRatio) * container.retina.reduceFactor,\n          moveDrift = particle.retina.moveDrift ??= getRangeValue(particle.options.move.drift) * pxRatio,\n          maxSize = getRangeMax(particleOptions.size.value) * pxRatio,\n          sizeFactor = moveOptions.size ? particle.getRadius() / maxSize : 1,\n          moveSpeed = baseSpeed * sizeFactor * slowFactor * (delta.factor || 1) / diffFactor,\n          maxSpeed = particle.retina.maxSpeed ?? container.retina.maxSpeed;\n\n    if (moveOptions.spin.enable) {\n      spin(particle, moveSpeed);\n    } else {\n      move(particle, moveOptions, moveSpeed, maxSpeed, moveDrift, delta);\n    }\n\n    applyDistance(particle);\n  }\n\n}","map":{"version":3,"sources":["D:/mitsukimiyagi-portfolio/node_modules/tsparticles-move-base/esm/BaseMover.js"],"names":["getDistance","getRangeMax","getRangeValue","applyDistance","getProximitySpeedFactor","move","spin","diffFactor","BaseMover","constructor","_initSpin","particle","container","options","spinOptions","enable","spinPos","position","x","y","spinCenter","canvas","size","width","height","pos","getPosition","distance","spinAcceleration","acceleration","retina","pixelRatio","center","direction","velocity","angle","radius","init","gravityOptions","gravity","inverse","isEnabled","destroyed","delta","particleOptions","moveOptions","pxRatio","slowFactor","baseSpeed","moveSpeed","speed","reduceFactor","moveDrift","drift","maxSize","value","sizeFactor","getRadius","factor","maxSpeed"],"mappings":"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","sourcesContent":["import { getDistance, getRangeMax, getRangeValue, } from \"tsparticles-engine\";\nimport { applyDistance, getProximitySpeedFactor, move, spin } from \"./Utils\";\nconst diffFactor = 2;\nexport class BaseMover {\n    constructor() {\n        this._initSpin = (particle) => {\n            const container = particle.container, options = particle.options, spinOptions = options.move.spin;\n            if (!spinOptions.enable) {\n                return;\n            }\n            const spinPos = spinOptions.position ?? { x: 50, y: 50 }, spinCenter = {\n                x: (spinPos.x / 100) * container.canvas.size.width,\n                y: (spinPos.y / 100) * container.canvas.size.height,\n            }, pos = particle.getPosition(), distance = getDistance(pos, spinCenter), spinAcceleration = getRangeValue(spinOptions.acceleration);\n            particle.retina.spinAcceleration = spinAcceleration * container.retina.pixelRatio;\n            particle.spin = {\n                center: spinCenter,\n                direction: particle.velocity.x >= 0 ? \"clockwise\" : \"counter-clockwise\",\n                angle: particle.velocity.angle,\n                radius: distance,\n                acceleration: particle.retina.spinAcceleration,\n            };\n        };\n    }\n    init(particle) {\n        const options = particle.options, gravityOptions = options.move.gravity;\n        particle.gravity = {\n            enable: gravityOptions.enable,\n            acceleration: getRangeValue(gravityOptions.acceleration),\n            inverse: gravityOptions.inverse,\n        };\n        this._initSpin(particle);\n    }\n    isEnabled(particle) {\n        return !particle.destroyed && particle.options.move.enable;\n    }\n    move(particle, delta) {\n        const particleOptions = particle.options, moveOptions = particleOptions.move;\n        if (!moveOptions.enable) {\n            return;\n        }\n        const container = particle.container, pxRatio = container.retina.pixelRatio, slowFactor = getProximitySpeedFactor(particle), baseSpeed = (particle.retina.moveSpeed ??= getRangeValue(moveOptions.speed) * pxRatio) *\n            container.retina.reduceFactor, moveDrift = (particle.retina.moveDrift ??= getRangeValue(particle.options.move.drift) * pxRatio), maxSize = getRangeMax(particleOptions.size.value) * pxRatio, sizeFactor = moveOptions.size ? particle.getRadius() / maxSize : 1, moveSpeed = (baseSpeed * sizeFactor * slowFactor * (delta.factor || 1)) / diffFactor, maxSpeed = particle.retina.maxSpeed ?? container.retina.maxSpeed;\n        if (moveOptions.spin.enable) {\n            spin(particle, moveSpeed);\n        }\n        else {\n            move(particle, moveOptions, moveSpeed, maxSpeed, moveDrift, delta);\n        }\n        applyDistance(particle);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}